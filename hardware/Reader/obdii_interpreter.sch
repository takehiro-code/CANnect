EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 3 19
Title "CANnect Reader | OBD-II Interpreter"
Date "2020-10-25"
Rev "0.0.03"
Comp "CANtech"
Comment1 "Created by Choong Jin Ng | jin8383@gmail.com"
Comment2 "Taken from STN21xx's datasheet for recommended configuration"
Comment3 ""
Comment4 "Component Identifier: "
$EndDescr
Text HLabel 1400 2500 0    50   BiDi ~ 0
K-Line
Text HLabel 1400 3250 0    50   BiDi ~ 0
L-Line
Text HLabel 1400 4600 0    50   BiDi ~ 0
HS_CAN_High
Text HLabel 1400 4700 0    50   BiDi ~ 0
HS_CAN_Low
Text HLabel 1400 900  0    50   Input ~ 0
SW_CAN
Text HLabel 1400 1800 0    50   BiDi ~ 0
J1850_BUS+
Text HLabel 1400 1900 0    50   BiDi ~ 0
J1850_BUS-
Text HLabel 1400 3900 0    50   BiDi ~ 0
MS_CAN_High
Text HLabel 1400 4000 0    50   BiDi ~ 0
MS_CAN_Low
Text HLabel 1400 5950 0    50   Output ~ 0
STN2110_TX
$Sheet
S 2450 3050 1350 500 
U 5FA83833
F0 "ISO 9141/ISO 14230 Transceiver" 50
F1 "transceiver_iso9141.sch" 50
F3 "~ISO_K_TX~" I R 3800 3250 50 
F4 "PWR_CTRL" I L 2450 3450 50 
F5 "~ISO_L_TX~" I R 3800 3350 50 
F6 "K-Line" B L 2450 3150 50 
F7 "L-Line" B L 2450 3250 50 
$EndSheet
$Sheet
S 2450 4550 1350 450 
U 5FAEE035
F0 "High Speed CAN Transceiver" 50
F1 "transceiver_can_hs.sch" 50
F2 "HS_CAN_High" B L 2450 4600 50 
F3 "HS_CAN_Low" B L 2450 4700 50 
F4 "~PWR_CTRL~" I L 2450 4900 50 
F5 "HS_CAN_TX" I R 3800 4700 50 
F6 "HS_CAN_RX" O R 3800 4600 50 
$EndSheet
Text HLabel 1400 6050 0    50   Input ~ 0
STN2110_RX
$Sheet
S 2450 3800 1350 500 
U 5FB34A7C
F0 "Medium Speed CAN Transceiver" 50
F1 "transceiver_can_ms.sch" 50
F2 "MS_CAN_High" B L 2450 3900 50 
F3 "MS_CAN_Low" B L 2450 4000 50 
F4 "~PWR_CTRL~" I L 2450 4200 50 
F5 "MS_CAN_TX" I R 3800 3900 50 
F6 "MS_CAN_RX" O R 3800 4000 50 
$EndSheet
$Sheet
S 2450 1700 1350 400 
U 5FB3FEAD
F0 "SAE J1850 VPW/PWM Transceiver" 50
F1 "transceiver_sae71850.sch" 50
F2 "~J1850_BUS+_VH~" I R 3800 1800 50 
F3 "J1850_BUS+_TX" O R 3800 1900 50 
F4 "J1850_BUS-_TX" I R 3800 2000 50 
F5 "J1850_BUS+" B L 2450 1800 50 
F6 "J1850_BUS-" B L 2450 1900 50 
$EndSheet
$Sheet
S 2450 2400 1350 400 
U 5FB4CA84
F0 "Comparator Transceiver" 50
F1 "transceiver_comparator.sch" 50
F2 "~ISO_RX~" O R 3800 2500 50 
F3 "K-Line" B L 2450 2500 50 
F4 "J1850_BUS+" I L 2450 2600 50 
F5 "J1850_BUS-" I L 2450 2700 50 
F6 "PWM_RX" O R 3800 2600 50 
F7 "VPW_RX" O R 3800 2700 50 
$EndSheet
$Sheet
S 2450 800  1300 500 
U 5FBCBEA5
F0 "Single Wire CAN Transceiver" 50
F1 "transceiver_sw_can.sch" 50
F2 "SW_CAN" B L 2450 900 50 
F3 "SW_CAN_TX" I R 3750 900 50 
F4 "SW_CAN_RX" O R 3750 1000 50 
F5 "SW_CAN_MODE0" I R 3750 1100 50 
F6 "SW_CAN_MODE1" I R 3750 1200 50 
F7 "SW_CAN_LOAD" B L 2450 1000 50 
$EndSheet
Wire Wire Line
	1400 900  2450 900 
Text HLabel 1400 6500 0    50   Input ~ 0
Analog_Voltage
NoConn ~ 6550 3850
NoConn ~ 6550 3950
NoConn ~ 6550 4050
Wire Wire Line
	4750 1500 2300 1500
Wire Wire Line
	2300 1500 2300 1000
Wire Wire Line
	2300 1000 2450 1000
Wire Wire Line
	3750 900  4750 900 
Wire Wire Line
	4750 1000 3750 1000
Wire Wire Line
	3750 1100 4750 1100
Wire Wire Line
	4750 1200 3750 1200
Wire Wire Line
	3800 1800 4750 1800
Wire Wire Line
	4750 1900 3800 1900
Wire Wire Line
	3800 2000 4750 2000
Wire Wire Line
	3800 3250 4750 3250
Wire Wire Line
	4750 3350 3800 3350
Wire Wire Line
	3800 3900 4750 3900
Wire Wire Line
	4750 4000 3800 4000
Wire Wire Line
	3800 2600 4750 2600
Wire Wire Line
	3800 2700 4750 2700
Wire Wire Line
	1400 1800 1950 1800
Wire Wire Line
	2450 1900 2150 1900
Wire Wire Line
	1400 2500 1700 2500
Wire Wire Line
	1400 3250 2450 3250
Wire Wire Line
	1700 2500 1700 3150
Wire Wire Line
	1700 3150 2450 3150
Connection ~ 1700 2500
Wire Wire Line
	1700 2500 2450 2500
Wire Wire Line
	1950 1800 1950 2600
Wire Wire Line
	1950 2600 2450 2600
Connection ~ 1950 1800
Wire Wire Line
	1950 1800 2450 1800
Wire Wire Line
	2150 1900 2150 2700
Wire Wire Line
	2150 2700 2450 2700
Connection ~ 2150 1900
Wire Wire Line
	2150 1900 1400 1900
Wire Wire Line
	1400 3900 2450 3900
Wire Wire Line
	1400 4000 2450 4000
Wire Wire Line
	1400 4600 2450 4600
Wire Wire Line
	2450 4700 1400 4700
Wire Wire Line
	3800 4600 4750 4600
Wire Wire Line
	4750 4700 3800 4700
Wire Wire Line
	1400 5300 2150 5300
Wire Wire Line
	2450 4900 2150 4900
Wire Wire Line
	2150 4900 2150 5300
Wire Wire Line
	1400 5950 4750 5950
Wire Wire Line
	4750 6050 1400 6050
Text HLabel 1400 5850 0    50   Output ~ 0
~SLEEP_OBD~
Wire Wire Line
	1400 5850 4750 5850
Wire Wire Line
	1400 6500 4750 6500
Text HLabel 1400 6300 0    50   Output ~ 0
RESET_OBD_SW
Text HLabel 1400 6400 0    50   Output ~ 0
~RESET_OBD_HW~
Wire Wire Line
	1400 6300 4750 6300
Wire Wire Line
	4750 6400 1400 6400
Text HLabel 1400 3450 0    50   Input ~ 0
PWR_CTRL
Wire Wire Line
	1400 3450 2450 3450
Connection ~ 2150 5300
Wire Wire Line
	2150 5300 4750 5300
$Sheet
S 4750 800  1800 5800
U 5FC0631B
F0 "OBDII Chip" 50
F1 "obdii_chip.sch" 50
F2 "UART_TX" O L 4750 6050 50 
F3 "UART_RX" I L 4750 5950 50 
F4 "HS_CAN_TX" O L 4750 4700 50 
F5 "MS_CAN_TX" O L 4750 3900 50 
F6 "HS_CAN_RX" I L 4750 4600 50 
F7 "MS_CAN_RX" I L 4750 4000 50 
F8 "~OBD_ACT_LED~" O R 6550 4050 50 
F9 "~RESET_HW~" O L 4750 6400 50 
F10 "~HOST_ACT_LED~" O R 6550 3950 50 
F11 "STATUS_LED" O R 6550 3850 50 
F12 "RESET_SW" I L 4750 6300 50 
F13 "ANALOG_IN" I L 4750 6500 50 
F14 "~ISO_RX~" I L 4750 3150 50 
F15 "~VPW_RX~" I L 4750 2700 50 
F16 "~SLEEP~" I L 4750 5850 50 
F17 "PWM_RX" I L 4750 2600 50 
F18 "J1850_BUS+_TX" O L 4750 1900 50 
F19 "~J1850_BUS+_VH~" O L 4750 1800 50 
F20 "J1850_BUS-_TX" O L 4750 2000 50 
F21 "~PWR_CTRL~" O L 4750 5300 50 
F22 "~ISO_L_TX~" O L 4750 3350 50 
F23 "~ISO_K_TX~" O L 4750 3250 50 
F24 "SW_CAN_RX" I L 4750 1000 50 
F25 "SW_CAN_TX" O L 4750 900 50 
F26 "SW_CAN_MODE1" O L 4750 1200 50 
F27 "SW_CAN_LOAD" O L 4750 1500 50 
F28 "SW_CAN_MODE0" O L 4750 1100 50 
$EndSheet
Text HLabel 1400 5300 0    50   Output ~ 0
~PWR_CTRL~
Wire Wire Line
	3800 2500 4200 2500
Wire Wire Line
	4200 2500 4200 3150
Wire Wire Line
	4200 3150 4750 3150
Wire Wire Line
	2150 4900 2150 4200
Wire Wire Line
	2150 4200 2450 4200
Connection ~ 2150 4900
$EndSCHEMATC
